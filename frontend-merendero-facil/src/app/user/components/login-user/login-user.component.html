<div class="container-per mt-3">

  <!-- Nube de credenciales demo -->
  <div class="demo-creds">
    <h3 class="demo-title">Acceso Demo</h3>
    <div class="demo-info">
      <p><strong>Email: </strong> <span style="font-weight: 500;">demo&#64;gmail.com</span></p>
      <p><strong>Contraseña: </strong> <span style="font-weight: 500;">123456</span></p>
    </div>
  </div>

  <h2 class="step-title">Iniciar Sesión</h2>

  <!-- Spinner de carga -->
  @if (isLoading) {
  <div class="d-flex justify-content-center my-4">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>
  }

  <!-- FORM -->
  <form [formGroup]="formReactivo" (ngSubmit)="onSubmitForm()" class="container-form">
    <div class="row mt-1">
      <div class="col-md-12 mb-2">
        <!-- EMAIL -->
        <label for="email" class="form-label" style="font-weight: 500;">Correo Electrónico</label>
        <input id="email" type="text" class="form-control shadow-sm" formControlName="email"
          [ngClass]="{'is-invalid': formReactivo.get('email')?.invalid && formReactivo.get('email')?.touched}">

        <!-- ERRORES -->
        @if(formReactivo.get('email')?.invalid && formReactivo.get('email')?.touched) {
        @if(formReactivo.get('email')?.hasError('required')) {
        <div class="text-danger align-self-end">Email requerido</div>
        }
        @if(formReactivo.get('email')?.hasError('email')) {
        <div class="text-danger align-self-end">Email inválido</div>
        }
        }
      </div>
    </div>

    <div class="row mt-1">
      <div class="mb-2">
        <!-- CONSTRASEÑA -->
        <label for="pas" class="form-label" style="font-weight: 500;">Contraseña</label>
        <div class="input-group">
          <!-- Candado -->
          <span class="input-group-text bg-orange border-brown">
            <i class="fas fa-lock text-brown"></i>
          </span>
          <!-- input -->
          <input id="pas" [type]="mostrarPassword ? 'text' : 'password'" class="form-control shadow-sm" placeholder=""
            formControlName="password"
            [ngClass]="{'is-invalid': formReactivo.get('password')?.invalid && formReactivo.get('password')?.touched}">
          <!-- boton ojo -->
          <button class="btn btn-outline-brown" type="button" (click)="mostrarPassword = !mostrarPassword">
            <i class="fas {{ mostrarPassword ? 'fa-eye-slash' : 'fa-eye' }}"></i>
          </button>
        </div>

        <!-- ERRORES -->
        @if(formReactivo.get('password')?.invalid && formReactivo.get('password')?.touched) {
        @if(formReactivo.get('password')?.hasError('required')) {
        <div class="text-danger align-self-end">Contraseña requerida</div>
        }
        }
      </div>
    </div>

    <!-- Submit Button -->
    <button [disabled]="formReactivo.invalid" type="submit" class="btn btn-block submit-btn w-100 mb-3 mt-2">
      Ingresar
    </button>

    <!-- Registration Link -->
    <p class="text-center" style="color: #444040;">
      ¿No tienes cuenta?
      <a routerLink="/create-user" routerLinkActive="router-link-active" class="link" style="color: #e79e36;">Regístrate
        aquí</a>
    </p>

    <!-- Olvidé mi clave Link -->
    <p class="text-center" style="color: #444040;">
      ¿Olvidaste tu contraseña?
      <a routerLink="/forgot-password" class="link" style="color: #e79e36;">Recupérala aquí</a>
    </p>

  </form>

  <!-- FOOTER -->
  <div class="footer-pack text-center">
    <a class="footer-link" style="margin-right: 10px;" routerLink="/terminos">Términos y Condiciones <i
        class="fas fa-external-link-alt fa-xs ms-1" aria-hidden="true"></i></a>
    <span> | </span>
    <a class="footer-link" style="margin-left: 10px;" routerLink="/preguntas">Preguntas Frecuentes <i
        class="fas fa-external-link-alt fa-xs ms-1" aria-hidden="true"></i></a>
  </div>
</div>